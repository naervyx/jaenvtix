# VS Code Configuration

## Responsibilities
- Ensure per-project `.vscode/settings.json` files contain pointers to the provisioned JDK and Maven wrapper.
- Create the `.vscode` directory when missing and preserve unrelated settings.
- Apply JSON edits via `jsonc-parser` to keep formatting consistent with user expectations.

## Managed settings

| Key | Controlled value | Purpose |
| --- | --- | --- |
| `java.jdt.ls.java.home` | Absolute path to the provisioned JDK. | Forces the Java language server to use the curated `JAVA_HOME`. |
| `maven.executable.path` | Path to the bundled `mvn-jaenvtix` wrapper. | Aligns VS Code's Maven integration with the provisioned toolchain. |
| `maven.terminal.useJavaHome` | Always `true`. | Ensures Maven executions reuse the configured `JAVA_HOME`. |

## Dependencies
- Node.js `fs` and `path` modules for file system access.
- `jsonc-parser` utilities (`modify`, `applyEdits`) to produce minimal and deterministic JSON mutations.
- Toolchain metadata generated by the orchestrator (JAVA_HOME and wrapper path).

## Standard error flows
- Treats missing settings files as empty JSON, allowing first-run provisioning without errors.
- Propagates file system read/write failures so callers can present actionable messages.
- Skips edits when requested keys already contain the desired values, preventing unnecessary writes.
